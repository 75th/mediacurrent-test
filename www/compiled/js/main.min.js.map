{"version":3,"sources":["../../src/js/main.js"],"names":["$","document","querySelector","bind","$$","querySelectorAll","$body","classList","add","modeShift","toDark","arguments","length","undefined","transitionDuration","getComputedStyle","getPropertyValue","factor","indexOf","parseInt","remove","setTimeout","addEventListener","darkModeMQ","matchMedia","matches"],"mappings":"aAAA,IAAIA,EAAIC,SAASC,cAAcC,KAAKF,UAChCG,GAAKH,SAASI,iBAAiBF,KAAKF,WAExC,WACC,IAAIK,EAAQN,EAAE,QAEdM,EAAMC,UAAUC,IAAI,MAEpB,IAAMC,EAAY,WAAmB,IAAlBC,IAAkBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GAEhCG,EAAqBC,iBAAiBT,GAAOU,iBAAiB,yBAC5DC,GAA+C,IAAtCH,EAAmBI,QAAQ,MAAe,EAAI,IAC7DJ,EAAqBK,SAASL,GAAsBG,EAGlCb,GAAG,uBAKrBE,EAAMC,UAAUC,IAAI,iBAEpBF,EAAMC,UAAUa,OAAOV,EAAS,QAAU,QAC1CJ,EAAMC,UAAUC,IAAIE,EAAS,OAAS,SACtCW,WACC,WACCf,EAAMC,UAAUa,OAAO,kBAGxBN,IAIFd,EAAE,kBAAkBsB,iBAAiB,QAAS,WAAQb,GAAU,KAEhET,EAAE,mBAAmBsB,iBAAiB,QAAS,WAAQb,GAAU,KAEjE,IAAIc,EAAaC,WAAW,gCAC5BlB,EAAMC,UAAUC,IAAIe,EAAWE,QAAU,OAAS,SAnCnD","sourcesContent":["var $ = document.querySelector.bind(document);\nvar $$ = document.querySelectorAll.bind(document);\n\n(function() {\n\tvar $body = $('body');\n\n\t$body.classList.add('js');\n\n\tconst modeShift = (toDark = true) => {\n\t\t// Transition duration is saved as a CSS custom property on the body element\n\t\tvar transitionDuration = getComputedStyle($body).getPropertyValue('--transition-duration');\n\t\tconst factor = transitionDuration.indexOf('ms') !== -1 ? 1 : 1000;\n\t\ttransitionDuration = parseInt(transitionDuration) * factor;\n\n\t\t// Disable mode buttons during transition\n\t\tconst $$buttons = $$('.color-modes button');\n\t//\t$$buttons.forEach(($button) => { $button.disabled = true });\n\n\t\t// We don't want transitions on hover, but we do want them on mode change,\n\t\t// so here's a temporary class to enable transition durations\n\t\t$body.classList.add('mode-shifting');\n\n\t\t$body.classList.remove(toDark ? 'light' : 'dark');\n\t\t$body.classList.add(toDark ? 'dark' : 'light');\n\t\tsetTimeout(\n\t\t\t() => {\n\t\t\t\t$body.classList.remove('mode-shifting')\n\t\t\t//\t$$buttons.forEach(($button) => { $button.disabled = false });\n\t\t\t},\n\t\t\ttransitionDuration\n\t\t);\n\t};\n\n\t$('button.to-dark').addEventListener('click', () => { modeShift(true); });\n\n\t$('button.to-light').addEventListener('click', () => { modeShift(false); });\n\n\tvar darkModeMQ = matchMedia('(prefers-color-scheme: dark)');\n\t$body.classList.add(darkModeMQ.matches ? 'dark' : 'light');\n})();\n"]}